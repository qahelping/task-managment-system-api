# Allure –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤

## üìä –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Allure

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Allure CLI

**macOS:**
```bash
brew install allure
```

**Linux:**
```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å https://github.com/allure-framework/allure2/releases
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SDKMAN:
sdk install allure
```

**Windows:**
```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å https://github.com/allure-framework/allure2/releases
# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH
```

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å Allure

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/ -v -s
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `allure-results/`

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞

```bash
allure serve allure-results
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –æ—Ç—á–µ—Ç–æ–º.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞

```bash
allure generate allure-results -o allure-report --clean
allure open allure-report
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Allure –æ—Ç—á–µ—Ç–æ–≤

### Features (–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - —Ç–µ—Å—Ç—ã –≤—Ö–æ–¥–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–î–æ—Å–∫–∏** - —Ä–∞–±–æ—Ç–∞ —Å –¥–æ—Å–∫–∞–º–∏
- **–ó–∞–¥–∞—á–∏** - —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
- **–ì–æ—Å—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø** - –ø—Ä–∞–≤–∞ –≥–æ—Å—Ç–µ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –¥–æ—Å–æ–∫** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è –¥–æ—Å–æ–∫** - –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–¥–∞—á–∞–º–∏** - –ø–µ—Ä–µ–Ω–æ—Å, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
- **–ü–æ–∏—Å–∫** - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–õ–æ–≥–∏ –∞—É–¥–∏—Ç–∞** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

### Stories (–ò—Å—Ç–æ—Ä–∏–∏)
–ö–∞–∂–¥–∞—è feature —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ stories - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π feature

```bash
pytest tests/ -v -s -k "test_auth"
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π story

```bash
pytest tests/ -v -s -k "login"
```

### –ó–∞–ø—É—Å–∫ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏

```bash
# –¢–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç—ã
pytest tests/ -v -s -m smoke

# –¢–æ–ª—å–∫–æ regression —Ç–µ—Å—Ç—ã
pytest tests/ -v -s -m regression
```

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –≤ —Ç–µ—Å—Ç—ã

```python
import pytest

@pytest.mark.smoke
@allure.feature("–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è")
def test_login():
    ...

@pytest.mark.regression
@allure.feature("–î–æ—Å–∫–∏")
def test_create_board():
    ...
```

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `allure serve allure-results` –≤—ã —É–≤–∏–¥–∏—Ç–µ:

1. **Overview** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
2. **Suites** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º
3. **Graphs** - –≥—Ä–∞—Ñ–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
4. **Behaviors** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ Features –∏ Stories
5. **Packages** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–∞–∫–µ—Ç–∞–º

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –≤ –æ—Ç—á–µ—Ç–µ

- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö/—É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–æ–≤
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –ª–æ–≥–∏ (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã)

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π

```python
@allure.description("""
–≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å–∫–∏ –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
–î–æ—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏.
""")
def test_create_board():
    ...
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤

```python
@allure.step("–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å–∫–∏")
def create_board_step(title):
    response = requests.post(...)
    return response

def test_create_board():
    with allure.step("–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"):
        token = get_user_token()
    
    with allure.step("–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å–∫–∏"):
        board = create_board_step("My Board")
    
    assert board.status_code == 201
```

### –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
def test_example():
    response = requests.get(...)
    
    allure.attach(
        response.text,
        name="Response Body",
        attachment_type=allure.attachment_type.JSON
    )
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Allure](https://docs.qameta.io/allure/)
- [Allure Python](https://github.com/allure-framework/allure-python)

```html 

html
 ‚îî‚îÄ‚îÄ body
      ‚îú‚îÄ‚îÄ header
      ‚îú‚îÄ‚îÄ main
      ‚îÇ     ‚îî‚îÄ‚îÄ div
      ‚îÇ         ‚îú‚îÄ‚îÄ p
      ‚îÇ         ‚îî‚îÄ‚îÄ button
      ‚îî‚îÄ‚îÄ footer

```