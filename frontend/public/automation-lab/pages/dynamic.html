<!DOCTYPE html>
<html lang="ru">
<head>
    
    <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="../assets/favicon.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async & Dynamic - Web Automation Torture Lab</title>
    <!-- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ -->
    <link rel="stylesheet" href="../assets/indigo-styles.css"/>

    <!-- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ø–µ—Ä–µ–ª–∏–≤—ã/–≤–æ–ª–Ω—ã/–∞—É—Ä–∞/–∑–≤—ë–∑–¥—ã (–ø–æ–¥–∫–ª—é—á–∞—Ç—å –ü–û–°–õ–ï –±–∞–∑–æ–≤—ã—Ö) -->
    <link rel="stylesheet" href="../assets/aurora.css"/>
</head>
<body data-style="s2">
<!-- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏ –¥–ª—è –∑–≤—ë–∑–¥ -->
<div class="sky" aria-hidden="true"></div>
    <div class="layout">
        <header class="header">
            <div class="header-content">
                <div class="brand">
                <div class="brand-mark"><img src="../assets/logo.png" alt="Logo" class="brand-logo-img"></div>
                <div class="brand-text">
                    <div class="brand-title">Web Automation Torture Lab</div>
                </div>
            </div>
                <button class="theme-toggle" id="themeToggle"><span class="theme-icon">üåô</span></button>
            </div>
        </header>
        
        <main class="main">
            <div class="container">
                <a href="../index.html" class="back-link">–ù–∞–∑–∞–¥</a>
                <div class="page-header">
                    <h2 class="page-title">Async & Dynamic</h2>
                    <p class="page-description">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, infinite scroll, stale elements, A/B –≤–∞—Ä–∏–∞–Ω—Ç—ã</p>
                </div>

                <div class="info-section" style="margin-bottom: 2rem;">
                    <h3 class="section-title">–ö–µ–π—Å—ã:</h3>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4>1. Lazy render after network-like delay</h4>
                            <p>–°–ø–∏—Å–æ–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ª—É—á–∞–π–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É</p>
                            <a href="dynamic/lazy-render.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>2. Infinite scroll</h4>
                            <p>–°–ø–∏—Å–æ–∫ –¥–æ–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ</p>
                            <a href="dynamic/infinite-scroll.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>3. Re-render detaches node (stale element)</h4>
                            <p>–ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 500‚Äì1200ms</p>
                            <a href="dynamic/stale-element.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>4. A/B variant changes selectors</h4>
                            <p>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∞—Ä–∏–∞–Ω—Ç–∞ –º–µ–Ω—è–µ—Ç DOM: —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</p>
                            <a href="dynamic/ab-variant.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                    </div>
                </div>

                <div class="stress-controls">
                    <button class="stress-btn" id="stressToggle">Toggle Stress Mode</button>
                </div>
                <div class="cases-grid" style="display: none;">
                    <!-- Case 1: Lazy render -->
                    <div class="case-card">
                        <h3 class="case-title">1. Lazy render after network-like delay</h3>
                        <div class="case-element" id="case1-element">
                            <div id="lazy-list" style="min-height: 100px;"></div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–°–ø–∏—Å–æ–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ª—É—á–∞–π–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É. –¢–µ—Å—Ç –∫–ª–∏–∫–∞–µ—Ç –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö. –≠–ª–µ–º–µ–Ω—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ DOM –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\n# –ñ–¥—ë–º –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞\nWebDriverWait(driver, 10).until(\n    EC.presence_of_element_located((By.CSS_SELECTOR, '#lazy-list .item'))\n)\n\n# –ò–ª–∏ –∂–¥—ë–º –≤–∏–¥–∏–º–æ—Å—Ç–∏\nitem = WebDriverWait(driver, 10).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, '#lazy-list .item'))\n)\nitem.click()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

# –ñ–¥—ë–º –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.CSS_SELECTOR, '#lazy-list .item'))
)

# –ò–ª–∏ –∂–¥—ë–º –≤–∏–¥–∏–º–æ—Å—Ç–∏
item = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located((By.CSS_SELECTOR, '#lazy-list .item'))
)
item.click()</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`const item = page.locator('#lazy-list .item');\nawait expect(item.first()).toBeVisible({ timeout: 10000 });\nawait item.first().click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">const item = page.locator('#lazy-list .item');
await expect(item.first()).toBeVisible({ timeout: 10000 });
await item.first().click();</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase1()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –∏ —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç</p>
                        </div>
                    </div>

                    <!-- Case 2: Infinite scroll -->
                    <div class="case-card">
                        <h3 class="case-title">2. Infinite scroll</h3>
                        <div class="case-element" id="case2-element">
                            <div id="scroll-container" style="height: 200px; overflow-y: auto; border: 2px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                                <div class="scroll-item" style="padding: 1rem; border-bottom: 1px solid var(--border-color);">Item 1</div>
                                <div class="scroll-item" style="padding: 1rem; border-bottom: 1px solid var(--border-color);">Item 2</div>
                                <div class="scroll-item" style="padding: 1rem; border-bottom: 1px solid var(--border-color);">Item 3</div>
                            </div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–°–ø–∏—Å–æ–∫ –¥–æ–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ. –≠–ª–µ–º–µ–Ω—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ—Å–∫—Ä–æ–ª–ª–∏—Ç—å.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">Lazy loading –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –º–µ—Ä–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏. –ù—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ncontainer = driver.find_element(By.ID, 'scroll-container')\ninitial_count = len(driver.find_elements(By.CSS_SELECTOR, '.scroll-item'))\n\n# –°–∫—Ä–æ–ª–ª–∏–º –¥–æ –∫–æ–Ω—Ü–∞\nwhile True:\n    driver.execute_script('arguments[0].scrollTop = arguments[0].scrollHeight', container)\n    time.sleep(0.5)\n    \n    current_count = len(driver.find_elements(By.CSS_SELECTOR, '.scroll-item'))\n    if current_count == initial_count:\n        break\n    initial_count = current_count\n\n# –ò—â–µ–º –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç\nitem = driver.find_element(By.XPATH, '//div[contains(text(), \"Item 10\")]')\nitem.click()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

container = driver.find_element(By.ID, 'scroll-container')
initial_count = len(driver.find_elements(By.CSS_SELECTOR, '.scroll-item'))

# –°–∫—Ä–æ–ª–ª–∏–º –¥–æ –∫–æ–Ω—Ü–∞
while True:
    driver.execute_script('arguments[0].scrollTop = arguments[0].scrollHeight', container)
    time.sleep(0.5)
    
    current_count = len(driver.find_elements(By.CSS_SELECTOR, '.scroll-item'))
    if current_count == initial_count:
        break
    initial_count = current_count

# –ò—â–µ–º –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
item = driver.find_element(By.XPATH, '//div[contains(text(), "Item 10")]')
item.click()</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`const container = page.locator('#scroll-container');\n\n// –°–∫—Ä–æ–ª–ª–∏–º –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞\nawait container.evaluate(el => el.scrollTop = el.scrollHeight);\n\n// –ñ–¥—ë–º –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞\nconst item = page.locator('.scroll-item').filter({ hasText: 'Item 10' });\nawait expect(item).toBeVisible({ timeout: 10000 });\nawait item.click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">const container = page.locator('#scroll-container');

// –°–∫—Ä–æ–ª–ª–∏–º –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
await container.evaluate(el => el.scrollTop = el.scrollHeight);

// –ñ–¥—ë–º –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
const item = page.locator('.scroll-item').filter({ hasText: 'Item 10' });
await expect(item).toBeVisible({ timeout: 10000 });
await item.click();</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase2()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ –∏ —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç</p>
                        </div>
                    </div>

                    <!-- Case 3: Stale element -->
                    <div class="case-card">
                        <h3 class="case-title">3. Re-render detaches node (stale element)</h3>
                        <div class="case-element" id="case3-element">
                            <button id="stale-btn" style="padding: 1rem 2rem; background: var(--accent-primary); color: white; border: none; border-radius: 8px;">Stale Button</button>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 500‚Äì1200ms. Stale element reference.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">React/Vue –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç DOM-—É–∑–ª—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ state. –°—Ç–∞—Ä–∞—è —Å—Å—ã–ª–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import StaleElementReferenceException\n\n# –ù–ï —Ö—Ä–∞–Ω–∏–º WebElement, –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏–º –∑–∞–Ω–æ–≤–æ\nfor attempt in range(5):\n    try:\n        button = driver.find_element(By.ID, 'stale-btn')\n        button.click()\n        break\n    except StaleElementReferenceException:\n        if attempt == 4:\n            raise\n        time.sleep(0.2)`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.common.exceptions import StaleElementReferenceException

# –ù–ï —Ö—Ä–∞–Ω–∏–º WebElement, –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏–º –∑–∞–Ω–æ–≤–æ
for attempt in range(5):
    try:
        button = driver.find_element(By.ID, 'stale-btn')
        button.click()
        break
    except StaleElementReferenceException:
        if attempt == 4:
            raise
        time.sleep(0.2)</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// Playwright –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∏—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∏ stale\nconst button = page.locator('#stale-btn');\nawait button.click();\n\n// Locator –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ retry –ø—Ä–∏ stale element`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// Playwright –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∏—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∏ stale
const button = page.locator('#stale-btn');
await button.click();

// Locator –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ retry –ø—Ä–∏ stale element</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase3()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç–∞ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã</p>
                        </div>
                    </div>

                    <!-- Case 4: A/B variant -->
                    <div class="case-card">
                        <h3 class="case-title">4. A/B variant changes selectors</h3>
                        <div class="case-element" id="case4-element">
                            <button id="variant-toggle" style="padding: 0.5rem 1rem; margin-bottom: 1rem; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px;">Toggle Variant</button>
                            <div id="variant-content">
                                <button class="variant-a" style="padding: 1rem 2rem; background: var(--accent-primary); color: white; border: none; border-radius: 8px;">Variant A Button</button>
                            </div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∞—Ä–∏–∞–Ω—Ç–∞ –º–µ–Ω—è–µ—Ç DOM: —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—Å—Ç—Ä—É–∫—Ç—É—Ä–∞. Brittle selectors.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">A/B —Ç–µ—Å—Ç—ã –º–µ–Ω—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É UI. –°–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ –∫–ª–∞—Å—Å–∞–º –ª–æ–º–∞—é—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\n\n# –ò—Å–ø–æ–ª—å–∑—É–µ–º data-testid (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)\nbutton = driver.find_element(By.CSS_SELECTOR, '[data-testid=\"action-button\"]')\nbutton.click()\n\n# –ò–ª–∏ fallback: XPath –ø–æ —Ç–µ–∫—Å—Ç—É\nbutton = driver.find_element(By.XPATH, '//button[contains(text(), \"Button\")]')\nbutton.click()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By

# –ò—Å–ø–æ–ª—å–∑—É–µ–º data-testid (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)
button = driver.find_element(By.CSS_SELECTOR, '[data-testid="action-button"]')
button.click()

# –ò–ª–∏ fallback: XPath –ø–æ —Ç–µ–∫—Å—Ç—É
button = driver.find_element(By.XPATH, '//button[contains(text(), "Button")]')
button.click()</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º getByRole/getByText\nconst button = page.getByRole('button', { name: /Button/i });\nawait button.click();\n\n// –ò–ª–∏ data-testid\nconst button = page.getByTestId('action-button');\nawait button.click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º getByRole/getByText
const button = page.getByRole('button', { name: /Button/i });
await button.click();

// –ò–ª–∏ data-testid
const button = page.getByTestId('action-button');
await button.click();</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase4()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –∫–ª–∏–∫–Ω—É—Ç–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞</p>
                        </div>
                    </div>
                </div>
                <div class="info-section">
                    <h3 class="section-title">Checklist: —á—Ç–æ –∑–¥–µ—Å—å —Ç—Ä–µ–Ω–∏—Ä—É–µ–º</h3>
                    <ul class="checklist">
                        <li>–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å infinite scroll</li>
                        <li>–û–±—Ä–∞–±–æ—Ç–∫–∞ stale element reference</li>
                        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ (data-testid, getByRole)</li>
                        <li>Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
                    </ul>
                </div>
            </div>
        </main>
        <footer class="footer">
            <p>Web Automation Torture Lab ¬© <span id="currentYear">2024</span> | –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </footer>
    </div>
        </div>
    </div>
    <script src="../assets/highlight.js"></script>
    <script src="../assets/app.js"></script>
    <script>
        function triggerCase1() {
            const list = document.getElementById('lazy-list');
            const delay = Math.random() * 2000 + 500;
            setTimeout(() => {
                list.innerHTML = '<div class="item" style="padding:1rem;background:var(--bg-primary);border-radius:8px;margin:0.5rem 0;">Item loaded after ' + Math.round(delay) + 'ms</div>';
            }, delay);
        }
        function triggerCase2() {
            const container = document.getElementById('scroll-container');
            let count = 3;
            container.addEventListener('scroll', function() {
                if (this.scrollTop + this.clientHeight >= this.scrollHeight - 10 && count < 10) {
                    count++;
                    const item = document.createElement('div');
                    item.className = 'scroll-item';
                    item.style.cssText = 'padding:1rem;border-bottom:1px solid var(--border-color);';
                    item.textContent = 'Item ' + count;
                    this.appendChild(item);
                }
            });
            container.scrollTop = container.scrollHeight;
        }
        function triggerCase3() {
            const container = document.getElementById('case3-element');
            const btn = document.getElementById('stale-btn');
            setInterval(() => {
                const newBtn = btn.cloneNode(true);
                container.replaceChild(newBtn, btn);
            }, Math.random() * 700 + 500);
        }
        let variant = 'a';
        function triggerCase4() {
            const toggle = document.getElementById('variant-toggle');
            const content = document.getElementById('variant-content');
            toggle.addEventListener('click', () => {
                variant = variant === 'a' ? 'b' : 'a';
                if (variant === 'a') {
                    content.innerHTML = '<button class="variant-a" data-testid="action-button" style="padding:1rem 2rem;background:var(--accent-primary);color:white;border:none;border-radius:8px;">Variant A Button</button>';
                } else {
                    content.innerHTML = '<button class="variant-b-different" data-testid="action-button" style="padding:1.5rem 3rem;background:#10B981;color:white;border:none;border-radius:12px;">Variant B Button</button>';
                }
            });
            toggle.click();
        }
        document.getElementById('stressToggle')?.addEventListener('click', function() {
            window.stressMode.toggle();
            this.classList.toggle('active');
            this.textContent = window.stressMode.enabled ? 'Stress Mode: ON' : 'Stress Mode: OFF';
        });
    </script>



</body>
</html>

