<!DOCTYPE html>
<html lang="ru">
<head>
    
    <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="../assets/favicon.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicks & Interactions - Web Automation Torture Lab</title>
    <!-- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ -->
    <link rel="stylesheet" href="../assets/indigo-styles.css"/>

    <!-- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ø–µ—Ä–µ–ª–∏–≤—ã/–≤–æ–ª–Ω—ã/–∞—É—Ä–∞/–∑–≤—ë–∑–¥—ã (–ø–æ–¥–∫–ª—é—á–∞—Ç—å –ü–û–°–õ–ï –±–∞–∑–æ–≤—ã—Ö) -->
    <link rel="stylesheet" href="../assets/aurora.css"/>
</head>
<body data-style="s2">
<!-- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏ –¥–ª—è –∑–≤—ë–∑–¥ -->
<div class="sky" aria-hidden="true"></div>
    <div class="layout">
        <header class="header">
            <div class="header-content">
                <div class="brand">
                <div class="brand-mark"><img src="../assets/logo.png" alt="Logo" class="brand-logo-img"></div>
                <div class="brand-text">
                    <div class="brand-title">Web Automation Torture Lab</div>
                </div>
            </div>
                <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </header>

        

        <main class="main">
            <div class="container">
                <a href="../index.html" class="back-link">–ù–∞–∑–∞–¥</a>
                <div class="page-header">
                    <h2 class="page-title">Clicks & Interactions</h2>
                    <p class="page-description">–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–ª–∏–∫–∞–º–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è–º–∏: –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, hover-to-enable, –∫–ª–∏–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ –∏–∫–æ–Ω–∫–∞–º, mousedown —Å–æ–±—ã—Ç–∏—è</p>
                </div>

                <div class="info-section" style="margin-bottom: 2rem;">
                    <h3 class="section-title">–ö–µ–π—Å—ã:</h3>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4>1. Element Intercepted</h4>
                            <p>Overlay –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫</p>
                            <a href="clicks/element-intercepted.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>2. Hover-to-enable</h4>
                            <p>–ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ hover</p>
                            <a href="clicks/hover-to-enable.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>3. Click only on icon</h4>
                            <p>–ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ —Ç–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏–∫–æ–Ω–∫–∞ –≤–Ω—É—Ç—Ä–∏</p>
                            <a href="clicks/click-only-icon.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>4. MouseDown required</h4>
                            <p>Action —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ mousedown</p>
                            <a href="clicks/mousedown-required.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                    </div>
                </div>

                <div class="stress-controls">
                    <button class="stress-btn" id="stressToggle">Toggle Stress Mode</button>
                </div>

                <div class="cases-grid" style="display: none;">
                    <!-- Case 1: Element Intercepted -->
                    <div class="case-card">
                        <h3 class="case-title">1. Element Intercepted (Overlay –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫)</h3>
                        
                        <div class="case-element" id="case1-element">
                            <div style="position: relative;">
                                <button id="pay-btn" class="trigger-btn" style="width: auto; margin: 0;">Pay Now</button>
                                <div id="overlay-banner" class="hidden" style="position: absolute; top: -50px; left: 0; right: 0; background: #FF6B6B; color: white; padding: 1rem; border-radius: 8px; z-index: 1000; text-align: center;">
                                    ‚ö†Ô∏è Important Notice!
                                </div>
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">
                                –û–±—ã—á–Ω—ã–π click –ø–æ–ø–∞–¥–∞–µ—Ç –≤ overlay ‚Üí ElementClickInterceptedException. Overlay –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É.
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">
                                Overlay —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. Selenium –ø—ã—Ç–∞–µ—Ç—Å—è –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º, –Ω–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ overlay –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–∏.
                            </div>
                        </div>

                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains

# 1. –ñ–¥—ë–º –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è overlay
overlay = driver.find_element(By.ID, 'overlay-banner')
WebDriverWait(driver, 10).until(
    EC.invisibility_of_element_located(overlay)
)

# 2. –°–∫—Ä–æ–ª–ª–∏–º —ç–ª–µ–º–µ–Ω—Ç –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å
pay_button = driver.find_element(By.ID, 'pay-btn')
driver.execute_script('arguments[0].scrollIntoView({block: \"center\"});', pay_button)

# 3. –ò—Å–ø–æ–ª—å–∑—É–µ–º Actions –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∫–ª–∏–∫–∞
actions = ActionChains(driver)
actions.move_to_element(pay_button).click().perform()

# 4. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, JS click –∫–∞–∫ last resort (—Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é!)
# driver.execute_script('arguments[0].click();', pay_button)
`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains

# 1. –ñ–¥—ë–º –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è overlay
overlay = driver.find_element(By.ID, 'overlay-banner')
WebDriverWait(driver, 10).until(
    EC.invisibility_of_element_located(overlay)
)

# 2. –°–∫—Ä–æ–ª–ª–∏–º —ç–ª–µ–º–µ–Ω—Ç –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å
pay_button = driver.find_element(By.ID, 'pay-btn')
driver.execute_script('arguments[0].scrollIntoView({block: \"center\"});', pay_button)

# 3. –ò—Å–ø–æ–ª—å–∑—É–µ–º Actions –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∫–ª–∏–∫–∞
actions = ActionChains(driver)
actions.move_to_element(pay_button).click().perform()

# 4. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, JS click –∫–∞–∫ last resort (—Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é!)
# driver.execute_script('arguments[0].click();', pay_button)</pre>
                            </div>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// 1. –ñ–¥—ë–º –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è overlay
await expect(page.locator('#overlay-banner')).toBeHidden({ timeout: 10000 });

// 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º scrollIntoViewIfNeeded –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
const payButton = page.locator('#pay-btn');
await payButton.scrollIntoViewIfNeeded();

// 3. –û–±—ã—á–Ω—ã–π –∫–ª–∏–∫ —Å auto-wait
await payButton.click();

// 4. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º force –∫–∞–∫ last resort (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
// await payButton.click({ force: true });`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// 1. –ñ–¥—ë–º –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è overlay
await expect(page.locator('#overlay-banner')).toBeHidden({ timeout: 10000 });

// 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º scrollIntoViewIfNeeded –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
const payButton = page.locator('#pay-btn');
await payButton.scrollIntoViewIfNeeded();

// 3. –û–±—ã—á–Ω—ã–π –∫–ª–∏–∫ —Å auto-wait
await payButton.click();

// 4. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º force –∫–∞–∫ last resort (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
// await payButton.click({ force: true });</pre>
                            </div>
                        </div>

                        <button class="trigger-btn" onclick="triggerCase1()">Trigger</button>

                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—è–≤–∏–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è —Å—Ç–∞—Ç—É—Å)</p>
                        </div>
                    </div>

                    <!-- Case 2: Hover to Enable -->
                    <div class="case-card">
                        <h3 class="case-title">2. Hover-to-enable</h3>
                        
                        <div class="case-element" id="case2-element">
                            <div id="card-hover" style="padding: 2rem; background: var(--bg-primary); border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                                <h4>Card Title</h4>
                                <p>Hover over this card to enable the button</p>
                                <button id="action-btn" disabled style="margin-top: 1rem; padding: 0.5rem 1rem; background: #ccc; border: none; border-radius: 8px; cursor: not-allowed;">Action Button</button>
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">
                                –ö–Ω–æ–ø–∫–∞ disabled, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è enabled —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ hover –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ. –ö–ª–∏–∫–∏ –¥–æ hover –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">
                                UI —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ hover –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞. –ü—Ä—è–º–æ–π –∫–ª–∏–∫ –ø–æ disabled —ç–ª–µ–º–µ–Ω—Ç—É –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.
                            </div>
                        </div>

                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains

# 1. –ù–∞—Ö–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫—É –∏ –∫–Ω–æ–ø–∫—É
card = driver.find_element(By.ID, 'card-hover')
button = driver.find_element(By.ID, 'action-btn')

# 2. Hover –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π
actions = ActionChains(driver)
actions.move_to_element(card).perform()

# 3. –ñ–¥—ë–º, –ø–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–µ—Ç enabled
WebDriverWait(driver, 10).until(
    EC.element_to_be_clickable(button)
)

# 4. –ö–ª–∏–∫–∞–µ–º –ø–æ –∫–Ω–æ–ø–∫–µ
button.click()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains

# 1. –ù–∞—Ö–æ–¥–∏–º –∫–∞—Ä—Ç–æ—á–∫—É –∏ –∫–Ω–æ–ø–∫—É
card = driver.find_element(By.ID, 'card-hover')
button = driver.find_element(By.ID, 'action-btn')

# 2. Hover –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π
actions = ActionChains(driver)
actions.move_to_element(card).perform()

# 3. –ñ–¥—ë–º, –ø–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–µ—Ç enabled
WebDriverWait(driver, 10).until(
    EC.element_to_be_clickable(button)
)

# 4. –ö–ª–∏–∫–∞–µ–º –ø–æ –∫–Ω–æ–ø–∫–µ
button.click()</pre>
                            </div>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// 1. Hover –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π
await page.locator('#card-hover').hover();

// 2. –ñ–¥—ë–º, –ø–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–µ—Ç enabled –∏ –∫–ª–∏–∫–∞–µ–º
const button = page.locator('#action-btn');
await expect(button).toBeEnabled();
await button.click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// 1. Hover –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π
await page.locator('#card-hover').hover();

// 2. –ñ–¥—ë–º, –ø–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–µ—Ç enabled –∏ –∫–ª–∏–∫–∞–µ–º
const button = page.locator('#action-btn');
await expect(button).toBeEnabled();
await button.click();</pre>
                            </div>
                        </div>

                        <button class="trigger-btn" onclick="triggerCase2()">Trigger</button>

                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–ª–∞ enabled –ø–æ—Å–ª–µ hover –∏ —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É–ª–∞—Å—å</p>
                        </div>
                    </div>

                    <!-- Case 3: Click only on icon -->
                    <div class="case-card">
                        <h3 class="case-title">3. Click only on icon sub-area</h3>
                        
                        <div class="case-element" id="case3-element">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div id="big-button" style="padding: 2rem 4rem; background: var(--bg-primary); border-radius: 12px; pointer-events: none; position: relative;">
                                    <span style="pointer-events: auto; cursor: pointer; background: var(--accent-primary); color: white; padding: 0.5rem 1rem; border-radius: 8px;">üîç Icon</span>
                                    <span style="margin-left: 1rem;">Large Button Area</span>
                                </div>
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">
                                "–ö–Ω–æ–ø–∫–∞" –±–æ–ª—å—à–∞—è, –Ω–æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ —Ç–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏–∫–æ–Ω–∫–∞ –≤–Ω—É—Ç—Ä–∏. –ù–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ pointer-events: none, –ø–æ—ç—Ç–æ–º—É –∫–ª–∏–∫ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">
                                CSS pointer-events: none –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏. –¢–æ–ª—å–∫–æ –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å pointer-events: auto –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω.
                            </div>
                        </div>

                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By

# –ö–ª–∏–∫–∞–µ–º –ø–æ –¥–æ—á–µ—Ä–Ω–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É (–∏–∫–æ–Ω–∫–µ), –∞ –Ω–µ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—é
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞–π—Ç–∏ –∏–∫–æ–Ω–∫—É –Ω–∞–ø—Ä—è–º—É—é
icon = driver.find_element(By.CSS_SELECTOR, '#big-button span[style*=\"pointer-events: auto\"]')
icon.click()

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å XPath –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
icon = driver.find_element(By.XPATH, '//div[@id=\"big-button\"]//span[@style[contains(., \"pointer-events: auto\")]]')
icon.click()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By

# –ö–ª–∏–∫–∞–µ–º –ø–æ –¥–æ—á–µ—Ä–Ω–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É (–∏–∫–æ–Ω–∫–µ), –∞ –Ω–µ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—é
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞–π—Ç–∏ –∏–∫–æ–Ω–∫—É –Ω–∞–ø—Ä—è–º—É—é
icon = driver.find_element(By.CSS_SELECTOR, '#big-button span[style*="pointer-events: auto"]')
icon.click()

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å XPath –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
icon = driver.find_element(By.XPATH, '//div[@id="big-button"]//span[@style[contains(., "pointer-events: auto")]]')
icon.click()</pre>
                            </div>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π locator –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
const icon = page.locator('#big-button').locator('span').filter({ hasText: 'Icon' });
await icon.click();

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º getByRole/getByText –µ—Å–ª–∏ –µ—Å—Ç—å —Å–µ–º–∞–Ω—Ç–∏–∫–∞
// const icon = page.getByRole('button', { name: /Icon/i });
// await icon.click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π locator –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
const icon = page.locator('#big-button').locator('span').filter({ hasText: 'Icon' });
await icon.click();

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º getByRole/getByText –µ—Å–ª–∏ –µ—Å—Ç—å —Å–µ–º–∞–Ω—Ç–∏–∫–∞
// const icon = page.getByRole('button', { name: /Icon/i });
// await icon.click();</pre>
                            </div>
                        </div>

                        <button class="trigger-btn" onclick="triggerCase3()">Trigger</button>

                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ —Å—Ä–∞–±–æ—Ç–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—è–≤–∏–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</p>
                        </div>
                    </div>

                    <!-- Case 4: MouseDown required -->
                    <div class="case-card">
                        <h3 class="case-title">4. MouseDown required</h3>
                        
                        <div class="case-element" id="case4-element">
                            <button id="mousedown-btn" style="padding: 1rem 2rem; background: var(--accent-primary); color: white; border: none; border-radius: 8px; cursor: pointer;">Click me (mousedown only)</button>
                            <div id="mousedown-result" style="margin-top: 1rem; padding: 1rem; background: var(--bg-primary); border-radius: 8px; min-height: 50px;"></div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">
                                Action —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ mousedown (mouseup –Ω–µ –≤–∞–∂–µ–Ω). –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π click –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –Ω—É–∂–Ω—ã–π handler.
                            </div>
                        </div>

                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">
                                –ù–µ–∫–æ—Ç–æ—Ä—ã–µ UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ mousedown —Å–æ–±—ã—Ç–∏—è –¥–ª—è drag&drop –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π. –û–±—ã—á–Ω—ã–π click –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ mousedown, –∏ mouseup, –Ω–æ handler –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω —Ç–æ–ª—å–∫–æ –∫ mousedown.
                            </div>
                        </div>

                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By
from selenium.webdriver.common.action_chains import ActionChains

button = driver.find_element(By.ID, 'mousedown-btn')

# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ActionChains click_and_hold (–Ω–æ –Ω–µ release)
actions = ActionChains(driver)
actions.move_to_element(button).click_and_hold().perform()
# –ù–µ –≤—ã–∑—ã–≤–∞–µ–º release() - —Ç–æ–ª—å–∫–æ mousedown

# –í–∞—Ä–∏–∞–Ω—Ç 2: Dispatch mousedown —á–µ—Ä–µ–∑ JavaScript
driver.execute_script('''
    const btn = arguments[0];
    const event = new MouseEvent('mousedown', {
        bubbles: true,
        cancelable: true,
        view: window
    });
    btn.dispatchEvent(event);
''', button)`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By
from selenium.webdriver.common.action_chains import ActionChains

button = driver.find_element(By.ID, 'mousedown-btn')

# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ActionChains click_and_hold (–Ω–æ –Ω–µ release)
actions = ActionChains(driver)
actions.move_to_element(button).click_and_hold().perform()
# –ù–µ –≤—ã–∑—ã–≤–∞–µ–º release() - —Ç–æ–ª—å–∫–æ mousedown

# –í–∞—Ä–∏–∞–Ω—Ç 2: Dispatch mousedown —á–µ—Ä–µ–∑ JavaScript
driver.execute_script('''
    const btn = arguments[0];
    const event = new MouseEvent('mousedown', {
        bubbles: true,
        cancelable: true,
        view: window
    });
    btn.dispatchEvent(event);
''', button)</pre>
                            </div>
                        </div>

                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`const button = page.locator('#mousedown-btn');

// –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dispatchEvent
await button.dispatchEvent('mousedown');

// –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å page.mouse –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
const box = await button.boundingBox();
if (box) {
    await page.mouse.move(box.x + box.width / 2, box.y + box.height / 2);
    await page.mouse.down();
    // –ù–µ –≤—ã–∑—ã–≤–∞–µ–º mouse.up() - —Ç–æ–ª—å–∫–æ down
}`, this)">Copy</button>
                                </div>
                                <pre class="code-block">const button = page.locator('#mousedown-btn');

// –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dispatchEvent
await button.dispatchEvent('mousedown');

// –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å page.mouse –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
const box = await button.boundingBox();
if (box) {
    await page.mouse.move(box.x + box.width / 2, box.y + box.height / 2);
    await page.mouse.down();
    // –ù–µ –≤—ã–∑—ã–≤–∞–µ–º mouse.up() - —Ç–æ–ª—å–∫–æ down
}</pre>
                            </div>
                        </div>

                        <button class="trigger-btn" onclick="triggerCase4()">Trigger</button>

                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ mousedown —Å—Ä–∞–±–æ—Ç–∞–ª–æ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∑–∏–ª—Å—è</p>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h3 class="section-title">Checklist: —á—Ç–æ –∑–¥–µ—Å—å —Ç—Ä–µ–Ω–∏—Ä—É–µ–º</h3>
                    <ul class="checklist">
                        <li>–û–∂–∏–¥–∞–Ω–∏–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è overlay –ø–µ—Ä–µ–¥ –∫–ª–∏–∫–æ–º</li>
                        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Actions –¥–ª—è hover –∏ –∫–ª–∏–∫–æ–≤</li>
                        <li>–ü–æ–∏—Å–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å mousedown —Å–æ–±—ã—Ç–∏—è–º–∏</li>
                        <li>–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å</li>
                        <li>–û–∂–∏–¥–∞–Ω–∏–µ enabled —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
                    </ul>
                </div>

            </div>
        </main>

        <footer class="footer">
            <p>Web Automation Torture Lab ¬© <span id="currentYear">2024</span> | –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </footer>
    </div>





    <script src="../assets/highlight.js"></script>
    <script src="../assets/app.js"></script>
    <script>
        // Case-specific handlers
        function triggerCase1() {
            const overlay = document.getElementById('overlay-banner');
            const btn = document.getElementById('pay-btn');
            
            // Show overlay
            overlay.classList.remove('hidden');
            
            // Try to click button (will be intercepted)
            setTimeout(() => {
                btn.click();
            }, 500);
            
            // Hide overlay after 3 seconds
            setTimeout(() => {
                overlay.classList.add('hidden');
            }, 3000);
        }

        function triggerCase2() {
            const card = document.getElementById('card-hover');
            const btn = document.getElementById('action-btn');
            
            // Simulate hover
            card.addEventListener('mouseenter', function() {
                btn.disabled = false;
                btn.style.background = 'var(--accent-primary)';
                btn.style.cursor = 'pointer';
            }, { once: true });
            
            // Trigger hover programmatically
            card.dispatchEvent(new MouseEvent('mouseenter', { bubbles: true }));
        }

        function triggerCase3() {
            const icon = document.querySelector('#big-button span[style*="pointer-events: auto"]');
            if (icon) {
                icon.style.background = '#10B981';
                icon.textContent = '‚úÖ Clicked!';
            }
        }

        function triggerCase4() {
            const btn = document.getElementById('mousedown-btn');
            const result = document.getElementById('mousedown-result');
            
            // Only mousedown handler
            btn.addEventListener('mousedown', function() {
                result.textContent = '‚úÖ mousedown event triggered!';
                result.style.background = '#10B981';
            }, { once: true });
            
            // Trigger mousedown
            btn.dispatchEvent(new MouseEvent('mousedown', { bubbles: true }));
        }

        // Stress mode toggle
        document.getElementById('stressToggle')?.addEventListener('click', function() {
            window.stressMode.toggle();
            this.classList.toggle('active');
            this.textContent = window.stressMode.enabled ? 'Stress Mode: ON' : 'Stress Mode: OFF';
        });
    </script>
</body>
</html>

