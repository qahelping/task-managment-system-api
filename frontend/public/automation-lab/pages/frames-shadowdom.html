<!DOCTYPE html>
<html lang="ru">
<head>
    
    <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="../assets/favicon.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframes & Shadow DOM - Web Automation Torture Lab</title>
    <!-- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ -->
    <link rel="stylesheet" href="../assets/indigo-styles.css"/>

    <!-- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ø–µ—Ä–µ–ª–∏–≤—ã/–≤–æ–ª–Ω—ã/–∞—É—Ä–∞/–∑–≤—ë–∑–¥—ã (–ø–æ–¥–∫–ª—é—á–∞—Ç—å –ü–û–°–õ–ï –±–∞–∑–æ–≤—ã—Ö) -->
    <link rel="stylesheet" href="../assets/aurora.css"/>
</head>
<body data-style="s2">
<!-- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏ –¥–ª—è –∑–≤—ë–∑–¥ -->
<div class="sky" aria-hidden="true"></div>
    <div class="layout">
        <header class="header">
            <div class="header-content">
                <div class="brand">
                <div class="brand-mark"><img src="../assets/logo.png" alt="Logo" class="brand-logo-img"></div>
                <div class="brand-text">
                    <div class="brand-title">Web Automation Torture Lab</div>
                </div>
            </div>
                <button class="theme-toggle" id="themeToggle"><span class="theme-icon">üåô</span></button>
            </div>
        </header>
        
        <main class="main">
            <div class="container">
                <a href="../index.html" class="back-link">–ù–∞–∑–∞–¥</a>
                <div class="page-header">
                    <h2 class="page-title">Iframes & Shadow DOM</h2>
                    <p class="page-description">–†–∞–±–æ—Ç–∞ —Å —Ñ—Ä–µ–π–º–∞–º–∏, –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ñ—Ä–µ–π–º–∞–º–∏, Shadow DOM –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</p>
                </div>

                <div class="info-section" style="margin-bottom: 2rem;">
                    <h3 class="section-title">–ö–µ–π—Å—ã:</h3>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h4>1. iframe button</h4>
                            <p>–ö–Ω–æ–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ iframe</p>
                            <a href="frames-shadowdom/iframe-button.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>2. nested iframes</h4>
                            <p>–î–≤–∞ —É—Ä–æ–≤–Ω—è iframe</p>
                            <a href="frames-shadowdom/nested-iframes.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                        <div class="feature-card">
                            <h4>3. Shadow DOM component</h4>
                            <p>Web component —Å –∫–Ω–æ–ø–∫–æ–π –≤–Ω—É—Ç—Ä–∏ shadow root</p>
                            <a href="frames-shadowdom/shadow-dom.html" class="feature-link">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Üí</a>
                        </div>
                    </div>
                </div>

                <div class="stress-controls">
                    <button class="stress-btn" id="stressToggle">Toggle Stress Mode</button>
                </div>
                <div class="cases-grid" style="display: none;">
                    <!-- Case 1: iframe button -->
                    <div class="case-card">
                        <h3 class="case-title">1. iframe button</h3>
                        <div class="case-element" id="case1-element">



                            <iframe id="test-iframe" src="data:text/html,<html><body><button id='iframe-btn' style='padding:1rem 2rem;background:#4F46E5;color:white;border:none;border-radius:8px;cursor:pointer;'>Button in iframe</button></body></html>" style="width:100%;height:150px;border:2px solid var(--border-color);border-radius:8px;"></iframe>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–õ–æ–∫–∞—Ç–æ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ iframe. –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ—Ä–µ–π–º–∞.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">Iframe —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç. Selenium –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Å–Ω–æ–≤–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\n\n# 1. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤ iframe\niframe = driver.find_element(By.ID, 'test-iframe')\ndriver.switch_to.frame(iframe)\n\n# 2. –†–∞–±–æ—Ç–∞–µ–º —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ iframe\nbutton = driver.find_element(By.ID, 'iframe-btn')\nbutton.click()\n\n# 3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç\ndriver.switch_to.default_content()`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By

# 1. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤ iframe
iframe = driver.find_element(By.ID, 'test-iframe')
driver.switch_to.frame(iframe)

# 2. –†–∞–±–æ—Ç–∞–µ–º —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ iframe
button = driver.find_element(By.ID, 'iframe-btn')
button.click()

# 3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç
driver.switch_to.default_content()</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// –ò—Å–ø–æ–ª—å–∑—É–µ–º frameLocator\nconst frame = page.frameLocator('#test-iframe');\nawait frame.locator('#iframe-btn').click();\n\n// –ò–ª–∏ –ø–æ–ª—É—á–∞–µ–º frame –ø–æ –∏–º–µ–Ω–∏/URL\n// const frame = page.frame({ name: 'test-iframe' });\n// await frame.locator('#iframe-btn').click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// –ò—Å–ø–æ–ª—å–∑—É–µ–º frameLocator
const frame = page.frameLocator('#test-iframe');
await frame.locator('#iframe-btn').click();

// –ò–ª–∏ –ø–æ–ª—É—á–∞–µ–º frame –ø–æ –∏–º–µ–Ω–∏/URL
// const frame = page.frame({ name: 'test-iframe' });
// await frame.locator('#iframe-btn').click();</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase1()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ iframe —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç–∞</p>
                        </div>
                    </div>

                    <!-- Case 2: Nested iframes -->
                    <div class="case-card">
                        <h3 class="case-title">2. nested iframes</h3>
                        <div class="case-element" id="case2-element">



                            <iframe id="outer-iframe" src="data:text/html,<html><body><iframe id='inner-iframe' src='data:text/html,<html><body><button id=&quot;nested-btn&quot; style=&quot;padding:1rem 2rem;background:#4F46E5;color:white;border:none;border-radius:8px;&quot;>Nested Button</button></body></html>'></iframe></body></html>" style="width:100%;height:200px;border:2px solid var(--border-color);border-radius:8px;"></iframe>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">–î–≤–∞ —É—Ä–æ–≤–Ω—è iframe. –ù—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç—É.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">–ö–∞–∂–¥—ã–π iframe —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\n\n# 1. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤ –ø–µ—Ä–≤—ã–π iframe\nouter_frame = driver.find_element(By.ID, 'outer-iframe')\ndriver.switch_to.frame(outer_frame)\n\n# 2. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤–æ –≤—Ç–æ—Ä–æ–π iframe\ninner_frame = driver.find_element(By.ID, 'inner-iframe')\ndriver.switch_to.frame(inner_frame)\n\n# 3. –†–∞–±–æ—Ç–∞–µ–º —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º\nbutton = driver.find_element(By.ID, 'nested-btn')\nbutton.click()\n\n# 4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –æ–±—Ä–∞—Ç–Ω–æ (–ø–æ –æ–¥–Ω–æ–º—É —É—Ä–æ–≤–Ω—é)\ndriver.switch_to.parent_frame()  # –í outer iframe\ndriver.switch_to.default_content()  # –í –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By

# 1. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤ –ø–µ—Ä–≤—ã–π iframe
outer_frame = driver.find_element(By.ID, 'outer-iframe')
driver.switch_to.frame(outer_frame)

# 2. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤–æ –≤—Ç–æ—Ä–æ–π iframe
inner_frame = driver.find_element(By.ID, 'inner-iframe')
driver.switch_to.frame(inner_frame)

# 3. –†–∞–±–æ—Ç–∞–µ–º —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º
button = driver.find_element(By.ID, 'nested-btn')
button.click()

# 4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –æ–±—Ä–∞—Ç–Ω–æ (–ø–æ –æ–¥–Ω–æ–º—É —É—Ä–æ–≤–Ω—é)
driver.switch_to.parent_frame()  # –í outer iframe
driver.switch_to.default_content()  # –í –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ frameLocator\nconst outerFrame = page.frameLocator('#outer-iframe');\nconst innerFrame = outerFrame.frameLocator('#inner-iframe');\nawait innerFrame.locator('#nested-btn').click();`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ frameLocator
const outerFrame = page.frameLocator('#outer-iframe');
const innerFrame = outerFrame.frameLocator('#inner-iframe');
await innerFrame.locator('#nested-btn').click();</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase2()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –≤–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–º iframe —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç–∞</p>
                        </div>
                    </div>

                    <!-- Case 3: Shadow DOM -->
                    <div class="case-card">
                        <h3 class="case-title">3. Shadow DOM component</h3>
                        <div class="case-element" id="case3-element">
                            <x-pay id="shadow-component"></x-pay>
                        </div>
                        <div class="problem-section">
                            <span class="section-label problem-label">Problem</span>
                            <div class="section-content">Web component —Å –∫–Ω–æ–ø–∫–æ–π –≤–Ω—É—Ç—Ä–∏ shadow root. –û–±—ã—á–Ω—ã–µ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–µ –¥–æ—Å—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä—å.</div>
                        </div>
                        <div class="problem-section">
                            <span class="section-label why-label">Why it happens</span>
                            <div class="section-content">Shadow DOM –∏–∑–æ–ª–∏—Ä—É–µ—Ç DOM –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–±—ã—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–µ –ø—Ä–æ–Ω–∏–∫–∞—é—Ç —á–µ—Ä–µ–∑ shadow boundary.</div>
                        </div>
                        <div class="show-solution-wrapper">
                            <input type="text" class="solution-key-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ—à–µ–Ω–∏—è">
                            <button class="show-solution-btn" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</button>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Selenium (Python)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Selenium (Python)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`from selenium.webdriver.common.by import By\n\n# Selenium –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç shadow DOM –Ω–∞–ø—Ä—è–º—É—é\n# –ò—Å–ø–æ–ª—å–∑—É–µ–º JavaScript –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ shadow root\n\ncomponent = driver.find_element(By.ID, 'shadow-component')\n\n# –ü–æ–ª—É—á–∞–µ–º shadow root –∏ —ç–ª–µ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏\nbutton = driver.execute_script('''\n    const component = arguments[0];\n    const shadow = component.shadowRoot;\n    return shadow.querySelector('button');\n''', component)\n\n# –ö–ª–∏–∫–∞–µ–º —á–µ—Ä–µ–∑ JavaScript\ndriver.execute_script('arguments[0].click();', button)`, this)">Copy</button>
                                </div>
                                <pre class="code-block">from selenium.webdriver.common.by import By

# Selenium –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç shadow DOM –Ω–∞–ø—Ä—è–º—É—é
# –ò—Å–ø–æ–ª—å–∑—É–µ–º JavaScript –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ shadow root

component = driver.find_element(By.ID, 'shadow-component')

# –ü–æ–ª—É—á–∞–µ–º shadow root –∏ —ç–ª–µ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏
button = driver.execute_script('''
    const component = arguments[0];
    const shadow = component.shadowRoot;
    return shadow.querySelector('button');
''', component)

# –ö–ª–∏–∫–∞–µ–º —á–µ—Ä–µ–∑ JavaScript
driver.execute_script('arguments[0].click();', button)</pre>
                            </div>
                        </div>
                        <div class="solution-section solution-hidden">
                            <span class="section-label solution-label">Solution: Playwright (TypeScript)</span>
                            <div class="code-wrapper">
                                <div class="code-header">
                                    <span class="code-label">Playwright (TypeScript)</span>
                                    <button class="copy-btn" onclick="copyToClipboard(`// Playwright –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç —á–µ—Ä–µ–∑ open shadow DOM\nconst button = page.locator('x-pay').locator('button');\nawait button.click();\n\n// –ï—Å–ª–∏ shadow –∑–∞–∫—Ä—ã—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º evaluate\n// const button = await page.evaluate(() => {\n//     const component = document.querySelector('x-pay');\n//     return component.shadowRoot.querySelector('button');\n// });`, this)">Copy</button>
                                </div>
                                <pre class="code-block">// Playwright –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç —á–µ—Ä–µ–∑ open shadow DOM
const button = page.locator('x-pay').locator('button');
await button.click();

// –ï—Å–ª–∏ shadow –∑–∞–∫—Ä—ã—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º evaluate
// const button = await page.evaluate(() => {
//     const component = document.querySelector('x-pay');
//     return component.shadowRoot.querySelector('button');
// });</pre>
                            </div>
                        </div>
                        <button class="trigger-btn" onclick="triggerCase3()">Trigger</button>
                        <div class="assert-section solution-hidden">
                            <div class="assert-title">How to assert it's fixed:</div>
                            <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ shadow DOM —É—Å–ø–µ—à–Ω–æ –∫–ª–∏–∫–Ω—É—Ç–∞</p>
                        </div>
                    </div>
                </div>
                <div class="info-section">
                    <h3 class="section-title">Checklist: —á—Ç–æ –∑–¥–µ—Å—å —Ç—Ä–µ–Ω–∏—Ä—É–µ–º</h3>
                    <ul class="checklist">
                        <li>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ iframe</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ iframe</li>
                        <li>–î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ Shadow DOM —á–µ—Ä–µ–∑ JavaScript</li>
                        <li>–í–æ–∑–≤—Ä–∞—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–µ–π–º–∞–º–∏</li>
                        <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ frameLocator –≤ Playwright</li>
                    </ul>
                </div>
            </div>
        </main>
        <footer class="footer">
            <p>Web Automation Torture Lab ¬© <span id="currentYear">2024</span> | –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </footer>
    </div>
        </div>
    </div>
    <script src="../assets/highlight.js"></script>
    <script src="../assets/app.js"></script>
    <script>
        // Define custom element with shadow DOM
        class XPay extends HTMLElement {
            connectedCallback() {
                const shadow = this.attachShadow({ mode: 'open' });
                shadow.innerHTML = `
                    <style>
                        button { padding: 1rem 2rem; background: #4F46E5; color: white; border: none; border-radius: 8px; cursor: pointer; }
                    </style>
                    <button id="shadow-btn">Pay in Shadow DOM</button>
                `;
                shadow.querySelector('#shadow-btn').addEventListener('click', () => {
                    alert('Button clicked in Shadow DOM!');
                });
            }
        }
        customElements.define('x-pay', XPay);

        function triggerCase1() {
            const iframe = document.getElementById('test-iframe');
            iframe.contentWindow.document.querySelector('#iframe-btn')?.click();
        }
        function triggerCase2() {
            const outer = document.getElementById('outer-iframe');
            const inner = outer.contentWindow.document.getElementById('inner-iframe');
            inner.contentWindow.document.querySelector('#nested-btn')?.click();
        }
        function triggerCase3() {
            const component = document.getElementById('shadow-component');
            const btn = component.shadowRoot.querySelector('button');
            btn.click();
        }
        document.getElementById('stressToggle')?.addEventListener('click', function() {
            window.stressMode.toggle();
            this.classList.toggle('active');
            this.textContent = window.stressMode.enabled ? 'Stress Mode: ON' : 'Stress Mode: OFF';
        });
    </script>



</body>
</html>

